<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rows Per Page Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-section { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Rows Per Page Functionality Test</h1>

    <div class="test-section">
        <h2>Test Instructions:</h2>
        <ol>
            <li>Open the <a href="/data" target="_blank">Data Table</a> in a new tab</li>
            <li>Look for the "Rows per page" dropdown at the bottom</li>
            <li>Try changing it from 10 to 20, then to 50</li>
            <li>Verify that the number of rows displayed changes accordingly</li>
            <li>Check that pagination updates correctly</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>Expected Behavior:</h2>
        <ul>
            <li class="success">âœ… Dropdown shows current page size (10, 20, or 50)</li>
            <li class="success">âœ… Selecting new size updates the table immediately</li>
            <li class="success">âœ… Page resets to 1 when changing page size</li>
            <li class="success">âœ… "Showing X to Y of Z entries" updates correctly</li>
            <li class="success">âœ… Pagination controls adjust to new page count</li>
        </ul>
    </div>

    <div class="test-section">
        <h2>Quick Test Buttons:</h2>
        <button onclick="openDataPage()">Open Data Table</button>
        <button onclick="checkConsole()">Check for Errors</button>
    </div>

    <div class="test-section">
        <h2>Test Results:</h2>
        <div id="results">Click buttons above to test functionality</div>
    </div>

    <script>
        function openDataPage() {
            window.open('/data', '_blank');
            document.getElementById('results').innerHTML = '<span class="info">Data table opened in new tab. Test the rows per page dropdown!</span>';
        }

        function checkConsole() {
            document.getElementById('results').innerHTML = '<span class="info">Check browser console (F12) for any errors when changing page size.</span>';
        }

        // Auto-check if we're on the data page
        if (window.location.pathname === '/data') {
            document.getElementById('results').innerHTML = '<span class="success">âœ… You are on the data page! Test the rows per page dropdown now.</span>';
        }
    </script>
</body>
</html>
